---
import Site from '../layouts/Site.astro';
import Hero from '../components/Hero.astro';
import IntroSection from '../components/IntroSection.astro';
import ServicesSection from '../components/ServicesSection.astro';
import WhyChooseSection from '../components/WhyChooseSection.astro';
import ConversationSection from '../components/ConversationSection.astro';
import TestimonialsSection from '../components/TestimonialsSection.astro';
import ContactCard from '../components/ContactCard.astro';
import services from '../data/services.json';
import company from '../data/company.json';
import TrustedBySection from "@/components/TrustedBySection.astro";
import KpiSection from "@/components/KpiSection.astro";


// ⚠️ Desactivamos las secciones duplicadas del layout (ya se incluyen aquí manualmente)
const showWhyChoose = false;
const showContactCard = false;

const title = 'Ingeniería y Medio Ambiente para Operaciones Seguras y Eficientes';
const subtitle = 'Soluciones integrales con foco en Cumplimiento, Continuidad Operacional y Eficiencia.';
---

<Site
  title={`${company.brand?.name ?? 'SIMA Ingeniería'} — ${company.brand?.tagline ?? 'Servicios de Ingeniería & Medio Ambiente'}`}
  description={subtitle}
  {showWhyChoose}
  {showContactCard}
>
  <main>
    <Hero
      title={title}
      subtitle={subtitle}
      categories={services.categories.map((c) => c.name.toUpperCase())}
    />
    <IntroSection />
    <ServicesSection />
    <WhyChooseSection />
    <ConversationSection />
    <KpiSection />
    <TestimonialsSection />
    <TrustedBySection />
    <ContactCard />
  </main>
</Site>
