---
import Site from "@/layouts/Site.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const entries = await getCollection("services");
  return entries.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
const { title, description } = entry.data;
---
<Site title={`${title} – SIMA Ingeniería`} description={description}>
  <section class="mx-auto max-w-7xl px-4 pt-6">
    <a
      href="/servicios"
      onclick="if (history.length > 1) { event.preventDefault(); history.back(); }"
      class="inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 shadow-sm"
    >
      <svg width="16" height="16" viewBox="0 0 24 24" class="opacity-70"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8l8 8l1.41-1.41L7.83 13H20z"/></svg>
      Volver
    </a>
  </section>

  <Content /> <!-- aquí entra tu bloque estilizado (gradiente + tarjetas) -->
</Site>
